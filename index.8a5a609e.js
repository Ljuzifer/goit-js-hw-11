!function(){function t(t){return t&&t.__esModule?t.default:t}var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},n={},o=i.parcelRequired7c6;null==o&&((o=function(t){if(t in e)return e[t].exports;if(t in n){var i=n[t];delete n[t];var o={id:t,exports:{}};return e[t]=o,i.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(t,i){n[t]=i},i.parcelRequired7c6=o),o.register("8MBJY",(function(t,i){"use strict";Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}})),o.register("a2hTj",(function(t,i){"use strict";function e(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.default=function(t,i,n){i&&e(t.prototype,i);n&&e(t,n);return t}}));var a=o("8MBJY"),s=o("a2hTj"),h=(Math.PI,2*Math.PI),r={timeStamp:function(){return window.performance.now()},random:function(t,i){return t+Math.random()*(i-t)},map:function(t,i,e,n,o){return(t-i)/(e-i)*(o-n)+n},lerp:function(t,i,e){return t+(i-t)*e},clamp:function(t,i,e){return Math.max(i,Math.min(e,t))}},l=function(){"use strict";function i(e,n){t(a)(this,i),this.x=e||0,this.y=n||0}return t(s)(i,[{key:"set",value:function(t,i){this.x=t,this.y=i}},{key:"reset",value:function(){this.x=0,this.y=0}},{key:"fromAngle",value:function(t){return new i(Math.cos(t),Math.sin(t))}},{key:"add",value:function(t){this.x+=t.x,this.y+=t.y}},{key:"sub",value:function(t){this.x-=t.x,this.y-=t.y}},{key:"mult",value:function(t){this.x*=t,this.y*=t}},{key:"div",value:function(t){this.x/=t,this.y/=t}},{key:"dot",value:function(t){return t.x*this.x+t.y*this.y}},{key:"limit",value:function(t){this.mag()>t&&this.setMag(t)}},{key:"mag",value:function(){return Math.hypot(this.x,this.y)}},{key:"setMag",value:function(t){this.mag()>0?this.normalize():(this.x=1,this.y=0),this.mult(t)}},{key:"normalize",value:function(){var t=this.mag();t>0&&(this.x/=t,this.y/=t)}},{key:"heading",value:function(){return Math.atan2(this.y,this.x)}},{key:"setHeading",value:function(t){var i=this.mag();this.x=Math.cos(t)*i,this.y=Math.sin(t)*i}},{key:"dist",value:function(t){return new i(this.x-t.x,this.y-t.y).mag()}},{key:"angle",value:function(t){return Math.atan2(t.y-this.y,t.x-this.x)}},{key:"copy",value:function(){return new i(this.x,this.y)}}]),i}(),u=document.createElement("canvas"),d=u.getContext("2d"),c=u.height=window.innerHeight,p=u.width=window.innerWidth;document.body.appendChild(u);var f={x:p/2,y:c/2};u.onmousemove=function(t){f.x=t.clientX-u.offsetLeft,f.y=t.clientY-u.offsetTop},document.body.onresize=function(t){c=u.height=window.innerHeight,p=u.width=window.innerWidth};for(var y=function(){"use strict";function i(e,n,o){t(a)(this,i),this.position=new l(e,n),this.velocity=(new l).fromAngle(r.random(0,h)),this.acceleration=new l(0,0),this.target=o,this.travelled_distance=0,this.min_size=1,this.max_size=6,this.size=r.random(this.min_size,this.max_size),this.zone=4*this.size,this.topSpeed=r.map(this.size,this.min_size,this.max_size,40,10);var s=Math.floor(r.map(this.size,this.min_size,this.max_size,4,16));this.tail=[];for(var u=0;u<s;u++)this.tail.push({x:this.position.x,y:this.position.y});this.wiggle_speed=r.map(this.size,this.min_size,this.max_size,2,1.2),this.blink_offset=r.random(0,100),this.alpha=r.random(.1,1)}return t(s)(i,[{key:"render",value:function(){this.update(),this.draw()}},{key:"update",value:function(){var t=this.position.copy(),i=new l(this.target.x,this.target.y),e=this.position.angle(i),n=i.dist(this.position),o=(new l).fromAngle(e);o.setMag(r.map(r.clamp(n,0,400),0,400,0,.1*this.topSpeed)),this.addForce(o),this.velocity.add(this.acceleration),n<800?this.velocity.limit(r.map(r.clamp(n,0,800),0,800,.4*this.topSpeed,this.topSpeed)):this.velocity.limit(this.topSpeed),this.position.add(this.velocity),this.acceleration.mult(0),this.travelled_distance+=t.dist(this.position);var a=Math.sin(g*this.wiggle_speed)*r.map(this.velocity.mag(),0,this.topSpeed,0,this.size),s=this.velocity.heading()+Math.PI/2,u=this.position.x+Math.cos(s)*a,d=this.position.y+Math.sin(s)*a;this.travelled_distance=0;var c=this.tail.length-1,p=(new l).fromAngle(r.random(0,h));p.setMag(Math.random()*this.size);var f={x:u+p.x,y:d+p.y};this.tail.splice(c,1),this.tail.splice(0,0,f)}},{key:"draw",value:function(){var t=r.map(this.velocity.mag(),0,this.topSpeed,.1,1),i="hsl("+360*Math.sin(.1*(g+this.blink_offset))+",50%,"+r.map(this.velocity.mag(),0,this.topSpeed,40,100)*this.alpha+"%)";d.globalAlpha=this.alpha,d.strokeStyle=i;for(var e=0;e<this.tail.length-1;e++){var n=this.tail[e],o=this.tail[e+1];d.lineWidth=r.map(e,0,this.tail.length-1,this.size,1),d.beginPath(),d.moveTo(n.x,n.y),d.lineTo(o.x,o.y),d.closePath(),d.stroke()}var a=140*t,s=d.createRadialGradient(this.position.x,this.position.y,5,this.position.x,this.position.y,a);s.addColorStop(0,"rgba(255,255,255,0.01)"),s.addColorStop(.1,"rgba(255,120,200,0.02)"),s.addColorStop(.9,"rgba(255,255,120,0)"),s.addColorStop(1,"rgba(0,0,0,0)"),d.fillStyle=s,d.fillRect(this.position.x-a/2,this.position.y-a/2,a,a),d.globalAlpha=t+.2,d.fillStyle="white";for(var u=0;u<4;u++){var c=(new l).fromAngle(r.random(0,h));c.setMag(Math.random()*t*100),c.add(this.position),d.beginPath(),d.arc(c.x,c.y,Math.random(),0,h),d.fill()}}},{key:"addForce",value:function(t){this.acceleration.add(t)}},{key:"avoid",value:function(t){var i=this;t.forEach((function(t){if(t!==i){var e=i.position.dist(t.position),n=i.zone+t.size;if(n-e>=0){var o=t.position.angle(i.position),a=(new l).fromAngle(o);a.setMag(r.map(e,0,n,2,0)),i.addForce(a)}}}))}}]),i}(),m=[],v=0;v<120;v++)m.push(new y(p/2,c/2,f));var g=0;d.strokeStyle="white",d.lineCap="round",d.lineJoin="round",function t(){d.fillStyle="black",d.globalCompositeOperation="source-over",d.globalAlpha=.2,d.fillRect(0,0,p,c),d.globalAlpha=1,d.globalCompositeOperation="lighter",m.forEach((function(t){t.avoid(m)})),m.forEach((function(t){t.render()})),g+=1,requestAnimationFrame(t)}()}();
//# sourceMappingURL=index.8a5a609e.js.map
